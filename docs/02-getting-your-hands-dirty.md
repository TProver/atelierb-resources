# Getting Your Hands Dirty

## Installation

## Project Creation

To create a project, you can either:

* select the menu Atelier B / New / Project
* use the shortcut Ctrl+Shift+P
* click on the yellow + on the toolbar

The 2-step project creation wizard show up.

![First step of a project creation](images/create-project-1.jpg)

Leave wokspace as local (default). Type in a project name. Select a project type: either <mark style="color:blue;">software development</mark> or <mark style="color:blue;">system modelling</mark>.

Click Next than click Finish (no need to modify default parameters).

![The project database contains the files used for the various modelling and proof activities. The translation directory contains the source code generated from the B models.](images/create-project-2.jpg)

Finally the project is created, named _<mark style="color:blue;">first</mark>_, and empty.

![](images/create-project-3.jpg)


## Code Generation

### Introduction

Code generation is always a tricky way of producing code, as the code is generated by a tool (seen as a black-box, behaviour not modifiable) from a model and the obtained code slightly differs from what could have been obtained manually. Some rules have to be considered to avoid desesparation while trying to get expected code:

* **a specific code generator is required for each target platform** . Hence thinking that a single code generator would do the job for all your projects will generate massive frustration when linking obtained code with third party code.
* **know your code generator capabilities** , define properly your software interface and how data/functions are implemented (full force implementation or basic machine)



### Generating C source code

Generating C source code requires a software development project. You should choose this option when you create your project. It is not possible to change the nature of a project after its creation.

![Example of a project status](../.gitbook/assets/status.jpg)

Code can be generated in two modes:

* **component mode**: you select a component in the component view, you right-click then select "code generator". The dialog below shows up. After having selected the proper translation profile, click OK. Unless you got error messages, the code has been generated into the lang/c directory of your project. If you select a machine, you get a c file and a header file (.h) with the same name as the selected component.

![Component code generation dialog](../.gitbook/assets/component-generation.jpg)

* **project mode**: you select your project in the workspaces view, you right-click the select "code generator". The dialog below shows up. After having selected the proper translation profile, the top-level component and possibly checked the "generate main" option, click OK.

![Project code generation dialog](../.gitbook/assets/project-generation.jpg)

Several translation profiles are available:

* C9X
* Project
* Light
* 01
* PIC
